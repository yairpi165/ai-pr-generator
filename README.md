# ğŸ§  AI Pull Request Generator (Terminal Edition)

This tool generates high-quality, well-structured pull request (PR) descriptions by analyzing your current Git diff and calling **Gemini AI**.

It supports specifying the PR type, custom title, and optional ticket name â€” all from the terminal.  
The output is saved to `pr-description.md` and opened automatically in your editor.

---

## âœ¨ Features

- PR types: `feature`, `bugfix`, `refactor`, `docs`, `chore`, `other`
- Optional title prompt or auto-generated by AI
- Optional ticket integration (e.g. `RND-1234`)
- AI-generated description in **Markdown** format
- Simple usage with `./generate.sh` or a custom alias
- Works with `cursor`, `code`, or your preferred editor

---

## ğŸš€ Getting Started

### 1. Clone this repo (or copy the script)

```bash
git clone https://github.com/your-org/generate-pr-desc.git
cd generate-pr-desc
```

### 2. Install dependencies

```bash
python3 -m venv venv
source venv/bin/activate
pip install google-generativeai python-dotenv
```

### 3. Create `.env` file

Duplicate the `.env-exemple` file:

```bash
cp .env-exemple .env
```

Open `.env` and paste your Gemini API key:

```
GEMINI_API_KEY=your_api_key_here
```

---

## ğŸ” Where do I get a Gemini API key?

1. Visit: [https://makersuite.google.com/app/apikey](https://makersuite.google.com/app/apikey)
2. Sign in with your Google account
3. Click **â€œCreate API Keyâ€**
4. Paste the key into your `.env` file as shown above

> âš ï¸ Make sure your account has access to gemini-2.0-flash

---

## ğŸ§ª Usage Examples

### Interactive prompt

```bash
./generate.sh
```

Youâ€™ll be prompted for:
- PR type
- PR title (optional)
- Ticket name (optional)

### All arguments inline

```bash
./generate.sh feature "Improve login UX"
```

> Youâ€™ll still be asked for ticket (optional)

---

## ğŸ“„ Example Output

```
ğŸ“‹ PR Type: feature
ğŸ“ PR Title: RND-4567: Improve login UX
ğŸ› ï¸ Generating git diff...
ğŸ¤– Calling Gemini API...
âœ… Saved to: pr-description.md
```

```markdown
# RND-4567: Improve login UX

## ğŸ§  Summary
This PR improves the user login experience by validating inputs and displaying inline error messages.

## âœ… Changes
- Added email and password validation
- Refactored error handling in the login form
- Updated styling for inline error messages

## ğŸ” Context
Previously, users could submit incomplete forms, resulting in server-side errors. This update resolves that by handling issues client-side.
```

---

## âš¡ï¸ Optional: Add Terminal Alias

So you can run `genpr` from anywhere:

1. Open your shell config file:

```bash
nano ~/.zshrc
```

2. Add:

```bash
alias genpr="~/generate-pr-desc/generate.sh"
```

3. Reload your shell:

```bash
source ~/.zshrc
```

Now you can simply run:

```bash
genpr bugfix "Fix crash on iOS"
```

---

## ğŸ“ Project Structure

```txt
generate-pr-desc/
â”œâ”€â”€ generate.sh             # Main script to run from Terminal
â”œâ”€â”€ gen_pr.py               # Python script that talks to Gemini
â”œâ”€â”€ diff.txt                # Git diff temp file
â”œâ”€â”€ pr-description.md       # Final output
â”œâ”€â”€ .env                    # Your Gemini API key
â”œâ”€â”€ .env-exemple            # Template env file
â””â”€â”€ README.md               # You're reading this!
```

---

## ğŸ§  Built With

- Python 3
- Bash
- [Google Gemini API](https://ai.google.dev/)
- Terminal â¤ï¸

---

## ğŸ“„ License

MIT Â© 2024 Yair Pinchasi
